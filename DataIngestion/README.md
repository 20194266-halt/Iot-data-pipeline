# Data Ingestion Layer

## Overview

This project sets up a data ingestion pipeline using an IoT Data Simulator to generate data from various sensors. The data is sent to an MQTT broker and subsequently consumed by a system that writes the data into Cassandra tables for storage and analysis.

## Data Source

### IoT Data Simulator

This project leverages the pre-built tool named [IoT Data Simulator](https://github.com/IBA-Group-IT/IoT-data-simulator.git).

### Create 4 Devices

- **Temp_sensor**
- **Humidity_sensor**
- **AQI_sensor**
- **Energy_consumption**

![Devices](Images/iot-data-simulator.png)

### Connect to MQTT Broker

- **Create Topics:**
- **Send Data:** Use the simulator to send data to these topics.

### Consume from MQTT and Write Data to Cassandra

- **Table air_quality**
  ![Data Pipeline](Images/aqi.png)

- **Table humidity**
  ![Data Pipeline](Images/humidity.png)

- **Table energy_consumption**
  ![Data Pipeline](Images/energy.png)

- **Table temperature**
  ![Data Pipeline](Images/temp.png)

## Data Flow

The data flow involves the following steps:

1. **Simulation:** Data is generated by the IoT Data Simulator.
2. **Publishing:** Data is sent to the MQTT broker.
3. **Consumption:** Data is consumed from the MQTT broker.
4. **Storage:** Data is written into Cassandra tables.

Each step is crucial for ensuring that the data is accurately captured, processed, and stored for further analysis.

## Installation and Setup

1. **IoT Data Simulator:** [Instructions to set up and configure the IoT Data Simulator](https://github.com/IBA-Group-IT/IoT-data-simulator.git)
2. **MQTT Broker:** [Instructions to set up and configure the MQTT broker](https://docs.vultr.com/install-mosquitto-mqtt-broker-on-ubuntu-20-04-server)
3. **Cassandra:** [Instructions to set up and configure Cassandra](https://cassandra.apache.org/doc/stable/cassandra/getting_started/installing.html)

